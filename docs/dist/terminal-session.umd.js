(function(F,L){typeof exports=="object"&&typeof module<"u"?module.exports=L():typeof define=="function"&&define.amd?define(L):(F=typeof globalThis<"u"?globalThis:F||self,F.TerminalSession=L())})(this,function(){"use strict";var to=Object.defineProperty;var zi=F=>{throw TypeError(F)};var no=(F,L,ee)=>L in F?to(F,L,{enumerable:!0,configurable:!0,writable:!0,value:ee}):F[L]=ee;var we=(F,L,ee)=>no(F,typeof L!="symbol"?L+"":L,ee),yr=(F,L,ee)=>L.has(F)||zi("Cannot "+ee);var x=(F,L,ee)=>(yr(F,L,"read from private field"),ee?ee.call(F):L.get(F)),_e=(F,L,ee)=>L.has(F)?zi("Cannot add the same private member more than once"):L instanceof WeakSet?L.add(F):L.set(F,ee),$e=(F,L,ee,Jt)=>(yr(F,L,"write to private field"),Jt?Jt.call(F,ee):L.set(F,ee),ee),xt=(F,L,ee)=>(yr(F,L,"access private method"),ee);var Ni,Ht,Wt,vt,sn,un,Tt,jt,kt,dt,Ut,fn,cn,Fe,Yi,Mn,$r,tt,Be;const F="5";typeof window<"u"&&((Ni=window.__svelte??(window.__svelte={})).v??(Ni.v=new Set)).add(F);const L=1,ee=2,Jt=4,Vi=8,Gi=16,Ki=1,Ji=4,Xi=8,Zi=16,Qi=2,Tr="[",Hn="[!",Wn="]",pt={},ve=Symbol(),kr=!1;var jn=Array.isArray,ea=Array.prototype.indexOf,Un=Array.from,mn=Object.keys,Et=Object.defineProperty,_t=Object.getOwnPropertyDescriptor,ta=Object.prototype,na=Array.prototype,ra=Object.getPrototypeOf,qr=Object.isExtensible;function xr(e){for(var t=0;t<e.length;t++)e[t]()}function ia(){var e,t,n=new Promise((i,a)=>{e=i,t=a});return{promise:n,resolve:e,reject:t}}const Te=2,zn=4,Er=8,St=16,Je=32,lt=64,Sr=128,Ce=256,gn=512,be=1024,Pe=2048,ot=4096,Oe=8192,bt=16384,Yn=32768,Vn=65536,Cr=1<<17,aa=1<<18,Ct=1<<19,la=1<<20,Gn=1<<21,Kn=1<<22,mt=1<<23,Xt=Symbol("$state"),Pr=Symbol("legacy props"),Jn=new class extends Error{constructor(){super(...arguments);we(this,"name","StaleReactionError");we(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}},Xn=3,Pt=8;function oa(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function sa(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ua(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function fa(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ca(e){throw new Error("https://svelte.dev/e/effect_orphan")}function va(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function da(){throw new Error("https://svelte.dev/e/hydration_failed")}function ha(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function pa(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function _a(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ba(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Zt(e){console.warn("https://svelte.dev/e/hydration_mismatch")}let M=!1;function Xe(e){M=e}let W;function ke(e){if(e===null)throw Zt(),pt;return W=e}function At(){return ke(Ze(W))}function Y(e){if(M){if(Ze(W)!==null)throw Zt(),pt;W=e}}function Zn(){for(var e=0,t=W;;){if(t.nodeType===Pt){var n=t.data;if(n===Wn){if(e===0)return t;e-=1}else(n===Tr||n===Hn)&&(e+=1)}var i=Ze(t);t.remove(),t=i}}function Ar(e){if(!e||e.nodeType!==Pt)throw Zt(),pt;return e.data}function Rr(e){return e===this.v}function ma(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Br(e){return!ma(e,this.v)}let ga=!1,De=null;function wn(e){De=e}function Nr(e,t=!1,n){De={p:De,c:null,e:null,s:e,x:null,l:null}}function Ir(e){var t=De,n=t.e;if(n!==null){t.e=null;for(var i of n)ri(i)}return e!==void 0&&(t.x=e),De=t.p,e??{}}function Or(){return!0}const wa=new WeakMap;function ya(e){var t=R;if(t===null)return B.f|=mt,e;if(t.f&Yn)Qn(e,t);else{if(!(t.f&Sr))throw!t.parent&&e instanceof Error&&Dr(e),e;t.b.error(e)}}function Qn(e,t){for(;t!==null;){if(t.f&Sr)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&Dr(e),e}function Dr(e){const t=wa.get(e);t&&(Et(e,"message",{value:t.message}),Et(e,"stack",{value:t.stack}))}let Qt=[],er=[];function Lr(){var e=Qt;Qt=[],xr(e)}function $a(){var e=er;er=[],xr(e)}function Fr(e){Qt.length===0&&queueMicrotask(Lr),Qt.push(e)}function Ta(){Qt.length>0&&Lr(),er.length>0&&$a()}function ka(){for(var e=R.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&oa(),e}function yn(e){var t=Te|Pe,n=B!==null&&B.f&Te?B:null;return R===null||n!==null&&n.f&Ce?t|=Ce:R.f|=Ct,{ctx:De,deps:null,effects:null,equals:Rr,f:t,fn:e,reactions:null,rv:0,v:ve,wv:0,parent:n??R,ac:null}}function qa(e,t){let n=R;n===null&&sa();var i=n.b,a=void 0,l=tn(ve),o=null,u=!B;return Na(()=>{try{var f=e()}catch(b){f=Promise.reject(b)}var c=()=>f;a=(o==null?void 0:o.then(c,c))??Promise.resolve(f),o=a;var h=ae,p=i.pending;u&&(i.update_pending_count(1),p||h.increment());const g=(b,d=void 0)=>{o=null,p||h.activate(),d?d!==Jn&&(l.f|=mt,nn(l,d)):(l.f&mt&&(l.f^=mt),nn(l,b)),u&&(i.update_pending_count(-1),p||h.decrement()),jr()};if(a.then(g,b=>g(null,b||"unknown")),h)return()=>{queueMicrotask(()=>h.neuter())}}),new Promise(f=>{function c(h){function p(){h===a?f(l):c(a)}h.then(p,p)}c(a)})}function qe(e){const t=yn(e);return pi(t),t}function Mr(e){const t=yn(e);return t.equals=Br,t}function Hr(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Ye(t[n])}}function xa(e){for(var t=e.parent;t!==null;){if(!(t.f&Te))return t;t=t.parent}return null}function tr(e){var t,n=R;ft(xa(e));try{Hr(e),t=wi(e)}finally{ft(n)}return t}function Wr(e){var t=tr(e);if(e.equals(t)||(e.v=t,e.wv=mi()),!yt)if(st!==null)st.set(e,e.v);else{var n=(ct||e.f&Ce)&&e.deps!==null?ot:be;Ee(e,n)}}function Ea(e,t,n){const i=yn;if(t.length===0){n(e.map(i));return}var a=ae,l=R,o=Sa(),u=ka();Promise.all(t.map(f=>qa(f))).then(f=>{a==null||a.activate(),o();try{n([...e.map(i),...f])}catch(c){l.f&bt||Qn(c,l)}a==null||a.deactivate(),jr()}).catch(f=>{u.error(f)})}function Sa(){var e=R,t=B,n=De;return function(){ft(e),Ge(t),wn(n)}}function jr(){ft(null),Ge(null),wn(null)}const en=new Set;let ae=null,st=null,Ur=new Set,$n=[];function zr(){const e=$n.shift();$n.length>0&&queueMicrotask(zr),e()}let gt=[],Tn=null,nr=!1,kn=!1;const Rn=class Rn{constructor(){_e(this,Fe);we(this,"current",new Map);_e(this,Ht,new Map);_e(this,Wt,new Set);_e(this,vt,0);_e(this,sn,null);_e(this,un,!1);_e(this,Tt,[]);_e(this,jt,[]);_e(this,kt,[]);_e(this,dt,[]);_e(this,Ut,[]);_e(this,fn,[]);_e(this,cn,[]);we(this,"skipped_effects",new Set)}process(t){var l;gt=[];var n=null;if(en.size>1){n=new Map,st=new Map;for(const[o,u]of this.current)n.set(o,{v:o.v,wv:o.wv}),o.v=u;for(const o of en)if(o!==this)for(const[u,f]of x(o,Ht))n.has(u)||(n.set(u,{v:u.v,wv:u.wv}),u.v=f)}for(const o of t)xt(this,Fe,Yi).call(this,o);if(x(this,Tt).length===0&&x(this,vt)===0){xt(this,Fe,$r).call(this);var i=x(this,kt),a=x(this,dt);$e(this,kt,[]),$e(this,dt,[]),$e(this,Ut,[]),ae=null,Vr(i),Vr(a),ae===null?ae=this:en.delete(this),(l=x(this,sn))==null||l.resolve()}else xt(this,Fe,Mn).call(this,x(this,kt)),xt(this,Fe,Mn).call(this,x(this,dt)),xt(this,Fe,Mn).call(this,x(this,Ut));if(n){for(const[o,{v:u,wv:f}]of n)o.wv<=f&&(o.v=u);st=null}for(const o of x(this,Tt))Ot(o);for(const o of x(this,jt))Ot(o);$e(this,Tt,[]),$e(this,jt,[])}capture(t,n){x(this,Ht).has(t)||x(this,Ht).set(t,n),this.current.set(t,t.v)}activate(){ae=this}deactivate(){ae=null;for(const t of Ur)if(Ur.delete(t),t(),ae!==null)break}neuter(){$e(this,un,!0)}flush(){gt.length>0?Yr():xt(this,Fe,$r).call(this),ae===this&&(x(this,vt)===0&&en.delete(this),this.deactivate())}increment(){$e(this,vt,x(this,vt)+1)}decrement(){if($e(this,vt,x(this,vt)-1),x(this,vt)===0){for(const t of x(this,fn))Ee(t,Pe),Bt(t);for(const t of x(this,cn))Ee(t,ot),Bt(t);$e(this,kt,[]),$e(this,dt,[]),this.flush()}else this.deactivate()}add_callback(t){x(this,Wt).add(t)}settled(){return(x(this,sn)??$e(this,sn,ia())).promise}static ensure(){if(ae===null){const t=ae=new Rn;en.add(ae),kn||Rn.enqueue(()=>{ae===t&&t.flush()})}return ae}static enqueue(t){$n.length===0&&queueMicrotask(zr),$n.unshift(t)}};Ht=new WeakMap,Wt=new WeakMap,vt=new WeakMap,sn=new WeakMap,un=new WeakMap,Tt=new WeakMap,jt=new WeakMap,kt=new WeakMap,dt=new WeakMap,Ut=new WeakMap,fn=new WeakMap,cn=new WeakMap,Fe=new WeakSet,Yi=function(t){var h;t.f^=be;for(var n=t.first;n!==null;){var i=n.f,a=(i&(Je|lt))!==0,l=a&&(i&be)!==0,o=l||(i&Oe)!==0||this.skipped_effects.has(n);if(!o&&n.fn!==null){if(a)n.f^=be;else if(i&zn)x(this,dt).push(n);else if(!(i&be))if(i&Kn){var u=(h=n.b)!=null&&h.pending?x(this,jt):x(this,Tt);u.push(n)}else xn(n)&&(n.f&St&&x(this,Ut).push(n),Ot(n));var f=n.first;if(f!==null){n=f;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}},Mn=function(t){for(const n of t)(n.f&Pe?x(this,fn):x(this,cn)).push(n),Ee(n,be);t.length=0},$r=function(){if(!x(this,un))for(const t of x(this,Wt))t();x(this,Wt).clear()};let Rt=Rn;function ne(e){var t=kn;kn=!0;try{for(var n;;){if(Ta(),gt.length===0&&(ae==null||ae.flush(),gt.length===0))return Tn=null,n;Yr()}}finally{kn=t}}function Yr(){var e=It;nr=!0;try{var t=0;for(di(!0);gt.length>0;){var n=Rt.ensure();if(t++>1e3){var i,a;Ca()}n.process(gt),ut.clear()}}finally{nr=!1,di(e),Tn=null}}function Ca(){try{va()}catch(e){Qn(e,Tn)}}let wt=null;function Vr(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var i=e[n++];if(!(i.f&(bt|Oe))&&xn(i)&&(wt=[],Ot(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null&&i.ac===null?fi(i):i.fn=null),wt.length>0)){ut.clear();for(const a of wt)Ot(a);wt=[]}}wt=null}}function Bt(e){for(var t=Tn=e;t.parent!==null;){t=t.parent;var n=t.f;if(nr&&t===R&&n&St)return;if(n&(lt|Je)){if(!(n&be))return;t.f^=be}}gt.push(t)}const ut=new Map;function tn(e,t){var n={f:0,v:e,reactions:null,equals:Rr,rv:0,wv:0};return n}function re(e,t){const n=tn(e);return pi(n),n}function Gr(e,t=!1,n=!0){const i=tn(e);return t||(i.equals=Br),i}function m(e,t,n=!1){B!==null&&(!Ve||B.f&Cr)&&Or()&&B.f&(Te|St|Kn|Cr)&&!(me!=null&&me.includes(e))&&ba();let i=n?Ae(t):t;return nn(e,i)}function nn(e,t){if(!e.equals(t)){var n=e.v;yt?ut.set(e,t):ut.set(e,n),e.v=t;var i=Rt.ensure();i.capture(e,n),e.f&Te&&(e.f&Pe&&tr(e),Ee(e,e.f&Ce?ot:be)),e.wv=mi(),Kr(e,Pe),R!==null&&R.f&be&&!(R.f&(Je|lt))&&(Re===null?Oa([e]):Re.push(e))}return t}function qn(e,t=1){var n=r(e),i=t===1?n++:n--;return m(e,n),i}function rr(e){m(e,e.v+1)}function Kr(e,t){var n=e.reactions;if(n!==null)for(var i=n.length,a=0;a<i;a++){var l=n[a],o=l.f,u=(o&Pe)===0;u&&Ee(l,t),o&Te?Kr(l,ot):u&&(o&St&&wt!==null&&wt.push(l),Bt(l))}}function Ae(e){if(typeof e!="object"||e===null||Xt in e)return e;const t=ra(e);if(t!==ta&&t!==na)return e;var n=new Map,i=jn(e),a=re(0),l=$t,o=u=>{if($t===l)return u();var f=B,c=$t;Ge(null),bi(l);var h=u();return Ge(f),bi(c),h};return i&&n.set("length",re(e.length)),new Proxy(e,{defineProperty(u,f,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&pa();var h=n.get(f);return h===void 0?h=o(()=>{var p=re(c.value);return n.set(f,p),p}):m(h,c.value,!0),!0},deleteProperty(u,f){var c=n.get(f);if(c===void 0){if(f in u){const h=o(()=>re(ve));n.set(f,h),rr(a)}}else m(c,ve),rr(a);return!0},get(u,f,c){var b;if(f===Xt)return e;var h=n.get(f),p=f in u;if(h===void 0&&(!p||(b=_t(u,f))!=null&&b.writable)&&(h=o(()=>{var d=Ae(p?u[f]:ve),y=re(d);return y}),n.set(f,h)),h!==void 0){var g=r(h);return g===ve?void 0:g}return Reflect.get(u,f,c)},getOwnPropertyDescriptor(u,f){var c=Reflect.getOwnPropertyDescriptor(u,f);if(c&&"value"in c){var h=n.get(f);h&&(c.value=r(h))}else if(c===void 0){var p=n.get(f),g=p==null?void 0:p.v;if(p!==void 0&&g!==ve)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return c},has(u,f){var g;if(f===Xt)return!0;var c=n.get(f),h=c!==void 0&&c.v!==ve||Reflect.has(u,f);if(c!==void 0||R!==null&&(!h||(g=_t(u,f))!=null&&g.writable)){c===void 0&&(c=o(()=>{var b=h?Ae(u[f]):ve,d=re(b);return d}),n.set(f,c));var p=r(c);if(p===ve)return!1}return h},set(u,f,c,h){var S;var p=n.get(f),g=f in u;if(i&&f==="length")for(var b=c;b<p.v;b+=1){var d=n.get(b+"");d!==void 0?m(d,ve):b in u&&(d=o(()=>re(ve)),n.set(b+"",d))}if(p===void 0)(!g||(S=_t(u,f))!=null&&S.writable)&&(p=o(()=>re(void 0)),m(p,Ae(c)),n.set(f,p));else{g=p.v!==ve;var y=o(()=>Ae(c));m(p,y)}var $=Reflect.getOwnPropertyDescriptor(u,f);if($!=null&&$.set&&$.set.call(h,c),!g){if(i&&typeof f=="string"){var C=n.get("length"),I=Number(f);Number.isInteger(I)&&I>=C.v&&m(C,I+1)}rr(a)}return!0},ownKeys(u){r(a);var f=Reflect.ownKeys(u).filter(p=>{var g=n.get(p);return g===void 0||g.v!==ve});for(var[c,h]of n)h.v!==ve&&!(c in u)&&f.push(c);return f},setPrototypeOf(){_a()}})}var Jr,Xr,Zr,Qr;function ir(){if(Jr===void 0){Jr=window,Xr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Zr=_t(t,"firstChild").get,Qr=_t(t,"nextSibling").get,qr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),qr(n)&&(n.__t=void 0)}}function je(e=""){return document.createTextNode(e)}function Ue(e){return Zr.call(e)}function Ze(e){return Qr.call(e)}function K(e,t){if(!M)return Ue(e);var n=Ue(W);if(n===null)n=W.appendChild(je());else if(t&&n.nodeType!==Xn){var i=je();return n==null||n.before(i),ke(i),i}return ke(n),n}function rn(e,t){if(!M){var n=Ue(e);return n instanceof Comment&&n.data===""?Ze(n):n}return W}function ce(e,t=1,n=!1){let i=M?W:e;for(var a;t--;)a=i,i=Ze(i);if(!M)return i;if(n&&(i==null?void 0:i.nodeType)!==Xn){var l=je();return i===null?a==null||a.after(l):i.before(l),ke(l),l}return ke(i),i}function ei(e){e.textContent=""}function ti(){return!1}function ni(e){var t=B,n=R;Ge(null),ft(null);try{return e()}finally{Ge(t),ft(n)}}function Pa(e){R===null&&B===null&&ca(),B!==null&&B.f&Ce&&R===null&&fa(),yt&&ua()}function Aa(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Qe(e,t,n,i=!0){var a=R;a!==null&&a.f&Oe&&(e|=Oe);var l={ctx:De,deps:null,nodes_start:null,nodes_end:null,f:e|Pe,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Ot(l),l.f|=Yn}catch(f){throw Ye(l),f}else t!==null&&Bt(l);if(i){var o=l;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&!(o.f&Ct)&&(o=o.first),o!==null&&(o.parent=a,a!==null&&Aa(o,a),B!==null&&B.f&Te&&!(e&lt))){var u=B;(u.effects??(u.effects=[])).push(o)}}return l}function ze(e){Pa();var t=R.f,n=!B&&(t&Je)!==0&&(t&Yn)===0;if(n){var i=De;(i.e??(i.e=[])).push(e)}else return ri(e)}function ri(e){return Qe(zn|la,e,!1)}function Ra(e){Rt.ensure();const t=Qe(lt|Ct,e,!0);return()=>{Ye(t)}}function Ba(e){Rt.ensure();const t=Qe(lt|Ct,e,!0);return(n={})=>new Promise(i=>{n.outro?ar(t,()=>{Ye(t),i(void 0)}):(Ye(t),i(void 0))})}function ii(e){return Qe(zn,e,!1)}function Na(e){return Qe(Kn|Ct,e,!0)}function ai(e,t=0){return Qe(Er|t,e,!0)}function le(e,t=[],n=[]){Ea(t,n,i=>{Qe(Er,()=>e(...i.map(r)),!0)})}function li(e,t=0){var n=Qe(St|t,e,!0);return n}function Nt(e,t=!0){return Qe(Je|Ct,e,!0,t)}function oi(e){var t=e.teardown;if(t!==null){const n=yt,i=B;hi(!0),Ge(null);try{t.call(null)}finally{hi(n),Ge(i)}}}function si(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&ni(()=>{a.abort(Jn)});var i=n.next;n.f&lt?n.parent=null:Ye(n,t),n=i}}function Ia(e){for(var t=e.first;t!==null;){var n=t.next;t.f&Je||Ye(t),t=n}}function Ye(e,t=!0){var n=!1;(t||e.f&aa)&&e.nodes_start!==null&&e.nodes_end!==null&&(ui(e.nodes_start,e.nodes_end),n=!0),si(e,t&&!n),En(e,0),Ee(e,bt);var i=e.transitions;if(i!==null)for(const l of i)l.stop();oi(e);var a=e.parent;a!==null&&a.first!==null&&fi(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function ui(e,t){for(;e!==null;){var n=e===t?null:Ze(e);e.remove(),e=n}}function fi(e){var t=e.parent,n=e.prev,i=e.next;n!==null&&(n.next=i),i!==null&&(i.prev=n),t!==null&&(t.first===e&&(t.first=i),t.last===e&&(t.last=n))}function ar(e,t){var n=[];lr(e,n,!0),ci(n,()=>{Ye(e),t&&t()})}function ci(e,t){var n=e.length;if(n>0){var i=()=>--n||t();for(var a of e)a.out(i)}else t()}function lr(e,t,n){if(!(e.f&Oe)){if(e.f^=Oe,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var i=e.first;i!==null;){var a=i.next,l=(i.f&Vn)!==0||(i.f&Je)!==0;lr(i,t,l?n:!1),i=a}}}function or(e){vi(e,!0)}function vi(e,t){if(e.f&Oe){e.f^=Oe,e.f&be||(Ee(e,Pe),Bt(e));for(var n=e.first;n!==null;){var i=n.next,a=(n.f&Vn)!==0||(n.f&Je)!==0;vi(n,a?t:!1),n=i}if(e.transitions!==null)for(const l of e.transitions)(l.is_global||t)&&l.in()}}let It=!1;function di(e){It=e}let yt=!1;function hi(e){yt=e}let B=null,Ve=!1;function Ge(e){B=e}let R=null;function ft(e){R=e}let me=null;function pi(e){B!==null&&(me===null?me=[e]:me.push(e))}let ge=null,xe=0,Re=null;function Oa(e){Re=e}let _i=1,an=0,$t=an;function bi(e){$t=e}let ct=!1;function mi(){return++_i}function xn(e){var p;var t=e.f;if(t&Pe)return!0;if(t&ot){var n=e.deps,i=(t&Ce)!==0;if(n!==null){var a,l,o=(t&gn)!==0,u=i&&R!==null&&!ct,f=n.length;if((o||u)&&(R===null||!(R.f&bt))){var c=e,h=c.parent;for(a=0;a<f;a++)l=n[a],(o||!((p=l==null?void 0:l.reactions)!=null&&p.includes(c)))&&(l.reactions??(l.reactions=[])).push(c);o&&(c.f^=gn),u&&h!==null&&!(h.f&Ce)&&(c.f^=Ce)}for(a=0;a<f;a++)if(l=n[a],xn(l)&&Wr(l),l.wv>e.wv)return!0}(!i||R!==null&&!ct)&&Ee(e,be)}return!1}function gi(e,t,n=!0){var i=e.reactions;if(i!==null&&!(me!=null&&me.includes(e)))for(var a=0;a<i.length;a++){var l=i[a];l.f&Te?gi(l,t,!1):t===l&&(n?Ee(l,Pe):l.f&be&&Ee(l,ot),Bt(l))}}function wi(e){var y;var t=ge,n=xe,i=Re,a=B,l=ct,o=me,u=De,f=Ve,c=$t,h=e.f;ge=null,xe=0,Re=null,ct=(h&Ce)!==0&&(Ve||!It||B===null),B=h&(Je|lt)?null:e,me=null,wn(e.ctx),Ve=!1,$t=++an,e.ac!==null&&(ni(()=>{e.ac.abort(Jn)}),e.ac=null);try{e.f|=Gn;var p=e.fn,g=p(),b=e.deps;if(ge!==null){var d;if(En(e,xe),b!==null&&xe>0)for(b.length=xe+ge.length,d=0;d<ge.length;d++)b[xe+d]=ge[d];else e.deps=b=ge;if(!ct||h&Te&&e.reactions!==null)for(d=xe;d<b.length;d++)((y=b[d]).reactions??(y.reactions=[])).push(e)}else b!==null&&xe<b.length&&(En(e,xe),b.length=xe);if(Or()&&Re!==null&&!Ve&&b!==null&&!(e.f&(Te|ot|Pe)))for(d=0;d<Re.length;d++)gi(Re[d],e);return a!==null&&a!==e&&(an++,Re!==null&&(i===null?i=Re:i.push(...Re))),e.f&mt&&(e.f^=mt),g}catch($){return ya($)}finally{e.f^=Gn,ge=t,xe=n,Re=i,B=a,ct=l,me=o,wn(u),Ve=f,$t=c}}function Da(e,t){let n=t.reactions;if(n!==null){var i=ea.call(n,e);if(i!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[i]=n[a],n.pop())}}n===null&&t.f&Te&&(ge===null||!ge.includes(t))&&(Ee(t,ot),t.f&(Ce|gn)||(t.f^=gn),Hr(t),En(t,0))}function En(e,t){var n=e.deps;if(n!==null)for(var i=t;i<n.length;i++)Da(e,n[i])}function Ot(e){var t=e.f;if(!(t&bt)){Ee(e,be);var n=R,i=It;R=e,It=!0;try{t&St?Ia(e):si(e),oi(e);var a=wi(e);e.teardown=typeof a=="function"?a:null,e.wv=_i;var l;kr&&ga&&e.f&Pe&&e.deps}finally{It=i,R=n}}}async function La(){await Promise.resolve(),ne()}function r(e){var t=e.f,n=(t&Te)!==0;if(B!==null&&!Ve){var i=R!==null&&(R.f&bt)!==0;if(!i&&!(me!=null&&me.includes(e))){var a=B.deps;if(B.f&Gn)e.rv<an&&(e.rv=an,ge===null&&a!==null&&a[xe]===e?xe++:ge===null?ge=[e]:(!ct||!ge.includes(e))&&ge.push(e));else{(B.deps??(B.deps=[])).push(e);var l=e.reactions;l===null?e.reactions=[B]:l.includes(B)||l.push(B)}}}else if(n&&e.deps===null&&e.effects===null){var o=e,u=o.parent;u!==null&&!(u.f&Ce)&&(o.f^=Ce)}if(yt){if(ut.has(e))return ut.get(e);if(n){o=e;var f=o.v;return(!(o.f&be)&&o.reactions!==null||yi(o))&&(f=tr(o)),ut.set(o,f),f}}else if(n){if(o=e,st!=null&&st.has(o))return st.get(o);xn(o)&&Wr(o)}if(e.f&mt)throw e.v;return e.v}function yi(e){if(e.v===ve)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(ut.has(t)||t.f&Te&&yi(t))return!0;return!1}function $i(e){var t=Ve;try{return Ve=!0,e()}finally{Ve=t}}const Fa=-7169;function Ee(e,t){e.f=e.f&Fa|t}const Ti=new Set,sr=new Set;function Ma(e){for(var t=0;t<e.length;t++)Ti.add(e[t]);for(var n of sr)n(e)}let ki=null;function Sn(e){var I;var t=this,n=t.ownerDocument,i=e.type,a=((I=e.composedPath)==null?void 0:I.call(e))||[],l=a[0]||e.target;ki=e;var o=0,u=ki===e&&e.__root;if(u){var f=a.indexOf(u);if(f!==-1&&(t===document||t===window)){e.__root=t;return}var c=a.indexOf(t);if(c===-1)return;f<=c&&(o=f)}if(l=a[o]||e.target,l!==t){Et(e,"currentTarget",{configurable:!0,get(){return l||n}});var h=B,p=R;Ge(null),ft(null);try{for(var g,b=[];l!==null;){var d=l.assignedSlot||l.parentNode||l.host||null;try{var y=l["__"+i];if(y!=null&&(!l.disabled||e.target===l))if(jn(y)){var[$,...C]=y;$.apply(l,[e,...C])}else y.call(l,e)}catch(S){g?b.push(S):g=S}if(e.cancelBubble||d===t||d===null)break;l=d}if(g){for(let S of b)queueMicrotask(()=>{throw S});throw g}}finally{e.__root=t,delete e.currentTarget,Ge(h),ft(p)}}}function qi(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function et(e,t){var n=R;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function U(e,t){var n=(t&Qi)!==0,i,a=!e.startsWith("<!>");return()=>{if(M)return et(W,null),W;i===void 0&&(i=qi(a?e:"<!>"+e),i=Ue(i));var l=n||Xr?document.importNode(i,!0):i.cloneNode(!0);return et(l,l),l}}function xi(e=""){if(!M){var t=je(e+"");return et(t,t),t}var n=W;return n.nodeType!==Xn&&(n.before(n=je()),ke(n)),et(n,n),n}function ln(){if(M)return et(W,null),W;var e=document.createDocumentFragment(),t=document.createComment(""),n=je();return e.append(t,n),et(t,n),e}function N(e,t){if(M){R.nodes_end=W,At();return}e!==null&&e.before(t)}const Ha=["touchstart","touchmove"];function Wa(e){return Ha.includes(e)}function Le(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Ei(e,t){return Si(e,t)}function ja(e,t){ir(),t.intro=t.intro??!1;const n=t.target,i=M,a=W;try{for(var l=Ue(n);l&&(l.nodeType!==Pt||l.data!==Tr);)l=Ze(l);if(!l)throw pt;Xe(!0),ke(l),At();const o=Si(e,{...t,anchor:l});if(W===null||W.nodeType!==Pt||W.data!==Wn)throw Zt(),pt;return Xe(!1),o}catch(o){if(o instanceof Error&&o.message.split(`
`).some(u=>u.startsWith("https://svelte.dev/e/")))throw o;return o!==pt&&console.warn("Failed to hydrate: ",o),t.recover===!1&&da(),ir(),ei(n),Xe(!1),Ei(e,t)}finally{Xe(i),ke(a)}}const Dt=new Map;function Si(e,{target:t,anchor:n,props:i={},events:a,context:l,intro:o=!0}){ir();var u=new Set,f=p=>{for(var g=0;g<p.length;g++){var b=p[g];if(!u.has(b)){u.add(b);var d=Wa(b);t.addEventListener(b,Sn,{passive:d});var y=Dt.get(b);y===void 0?(document.addEventListener(b,Sn,{passive:d}),Dt.set(b,1)):Dt.set(b,y+1)}}};f(Un(Ti)),sr.add(f);var c=void 0,h=Ba(()=>{var p=n??t.appendChild(je());return Nt(()=>{if(l){Nr({});var g=De;g.c=l}a&&(i.$$events=a),M&&et(p,null),c=e(p,i)||{},M&&(R.nodes_end=W),l&&Ir()}),()=>{var d;for(var g of u){t.removeEventListener(g,Sn);var b=Dt.get(g);--b===0?(document.removeEventListener(g,Sn),Dt.delete(g)):Dt.set(g,b)}sr.delete(f),p!==n&&((d=p.parentNode)==null||d.removeChild(p))}});return ur.set(c,h),c}let ur=new WeakMap;function Ua(e,t){const n=ur.get(e);return n?(ur.delete(e),n(t)):Promise.resolve()}function J(e,t,n=!1){M&&At();var i=e,a=null,l=null,o=ve,u=n?Vn:0,f=!1;const c=(b,d=!0)=>{f=!0,g(d,b)};var h=null;function p(){h!==null&&(h.lastChild.remove(),i.before(h),h=null);var b=o?a:l,d=o?l:a;b&&or(b),d&&ar(d,()=>{o?l=null:a=null})}const g=(b,d)=>{if(o===(o=b))return;let y=!1;if(M){const E=Ar(i)===Hn;!!o===E&&(i=Zn(),ke(i),Xe(!1),y=!0)}var $=ti(),C=i;if($&&(h=document.createDocumentFragment(),h.append(C=je())),o?a??(a=d&&Nt(()=>d(C))):l??(l=d&&Nt(()=>d(C))),$){var I=ae,S=o?a:l,te=o?l:a;S&&I.skipped_effects.delete(S),te&&I.skipped_effects.add(te),I.add_callback(p)}else p();y&&Xe(!0)};li(()=>{f=!1,t(c),f||g(null,null)},u),M&&(i=W)}function Lt(e,t){return t}function za(e,t,n){for(var i=e.items,a=[],l=t.length,o=0;o<l;o++)lr(t[o].e,a,!0);var u=l>0&&a.length===0&&n!==null;if(u){var f=n.parentNode;ei(f),f.append(n),i.clear(),Ke(e,t[0].prev,t[l-1].next)}ci(a,()=>{for(var c=0;c<l;c++){var h=t[c];u||(i.delete(h.k),Ke(e,h.prev,h.next)),Ye(h.e,!u)}})}function Ft(e,t,n,i,a,l=null){var o=e,u={flags:t,items:new Map,first:null},f=(t&Jt)!==0;if(f){var c=e;o=M?ke(Ue(c)):c.appendChild(je())}M&&At();var h=null,p=!1,g=new Map,b=Mr(()=>{var C=n();return jn(C)?C:C==null?[]:Un(C)}),d,y;function $(){Ya(y,d,u,g,o,a,t,i,n),l!==null&&(d.length===0?h?or(h):h=Nt(()=>l(o)):h!==null&&ar(h,()=>{h=null}))}li(()=>{y??(y=R),d=r(b);var C=d.length;if(p&&C===0)return;p=C===0;let I=!1;if(M){var S=Ar(o)===Hn;S!==(C===0)&&(o=Zn(),ke(o),Xe(!1),I=!0)}if(M){for(var te=null,E,T=0;T<C;T++){if(W.nodeType===Pt&&W.data===Wn){o=W,I=!0,Xe(!1);break}var O=d[T],k=i(O,T);E=fr(W,u,te,null,O,k,T,a,t,n),u.items.set(k,E),te=E}C>0&&ke(Zn())}if(M)C===0&&l&&(h=Nt(()=>l(o)));else if(ti()){var de=new Set,Me=ae;for(T=0;T<C;T+=1){O=d[T],k=i(O,T);var se=u.items.get(k)??g.get(k);se?t&(L|ee)&&Ci(se,O,T,t):(E=fr(null,u,null,null,O,k,T,a,t,n,!0),g.set(k,E)),de.add(k)}for(const[P,zt]of u.items)de.has(P)||Me.skipped_effects.add(zt.e);Me.add_callback($)}else $();I&&Xe(!0),r(b)}),M&&(o=W)}function Ya(e,t,n,i,a,l,o,u,f){var dn,Nn,X,j;var c=(o&Vi)!==0,h=(o&(L|ee))!==0,p=t.length,g=n.items,b=n.first,d=b,y,$=null,C,I=[],S=[],te,E,T,O;if(c)for(O=0;O<p;O+=1)te=t[O],E=u(te,O),T=g.get(E),T!==void 0&&((dn=T.a)==null||dn.measure(),(C??(C=new Set)).add(T));for(O=0;O<p;O+=1){if(te=t[O],E=u(te,O),T=g.get(E),T===void 0){var k=i.get(E);if(k!==void 0){i.delete(E),g.set(E,k);var de=$?$.next:d;Ke(n,$,k),Ke(n,k,de),cr(k,de,a),$=k}else{var Me=d?d.e.nodes_start:a;$=fr(Me,n,$,$===null?n.first:$.next,te,E,O,l,o,f)}g.set(E,$),I=[],S=[],d=$.next;continue}if(h&&Ci(T,te,O,o),T.e.f&Oe&&(or(T.e),c&&((Nn=T.a)==null||Nn.unfix(),(C??(C=new Set)).delete(T))),T!==d){if(y!==void 0&&y.has(T)){if(I.length<S.length){var se=S[0],P;$=se.prev;var zt=I[0],nt=I[I.length-1];for(P=0;P<I.length;P+=1)cr(I[P],se,a);for(P=0;P<S.length;P+=1)y.delete(S[P]);Ke(n,zt.prev,nt.next),Ke(n,$,zt),Ke(n,nt,se),d=se,$=nt,O-=1,I=[],S=[]}else y.delete(T),cr(T,d,a),Ke(n,T.prev,T.next),Ke(n,T,$===null?n.first:$.next),Ke(n,$,T),$=T;continue}for(I=[],S=[];d!==null&&d.k!==E;)d.e.f&Oe||(y??(y=new Set)).add(d),S.push(d),d=d.next;if(d===null)continue;T=d}I.push(T),$=T,d=T.next}if(d!==null||y!==void 0){for(var rt=y===void 0?[]:Un(y);d!==null;)d.e.f&Oe||rt.push(d),d=d.next;var qt=rt.length;if(qt>0){var vn=o&Jt&&p===0?a:null;if(c){for(O=0;O<qt;O+=1)(X=rt[O].a)==null||X.measure();for(O=0;O<qt;O+=1)(j=rt[O].a)==null||j.fix()}za(n,rt,vn)}}c&&Fr(()=>{var Z;if(C!==void 0)for(T of C)(Z=T.a)==null||Z.apply()}),e.first=n.first&&n.first.e,e.last=$&&$.e;for(var Bn of i.values())Ye(Bn.e);i.clear()}function Ci(e,t,n,i){i&L&&nn(e.v,t),i&ee?nn(e.i,n):e.i=n}function fr(e,t,n,i,a,l,o,u,f,c,h){var p=(f&L)!==0,g=(f&Gi)===0,b=p?g?Gr(a,!1,!1):tn(a):a,d=f&ee?tn(o):o,y={i:d,v:b,k:l,a:null,e:null,prev:n,next:i};try{if(e===null){var $=document.createDocumentFragment();$.append(e=je())}return y.e=Nt(()=>u(e,b,d,c),M),y.e.prev=n&&n.e,y.e.next=i&&i.e,n===null?h||(t.first=y):(n.next=y,n.e.next=y.e),i!==null&&(i.prev=y,i.e.prev=y.e),y}finally{}}function cr(e,t,n){for(var i=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,l=e.e.nodes_start;l!==null&&l!==i;){var o=Ze(l);a.before(l),l=o}}function Ke(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Cn(e,t,n=!1,i=!1,a=!1){var l=e,o="";le(()=>{var u=R;if(o===(o=t()??"")){M&&At();return}if(u.nodes_start!==null&&(ui(u.nodes_start,u.nodes_end),u.nodes_start=u.nodes_end=null),o!==""){if(M){W.data;for(var f=At(),c=f;f!==null&&(f.nodeType!==Pt||f.data!=="");)c=f,f=Ze(f);if(f===null)throw Zt(),pt;et(W,c),l=ke(f);return}var h=o+"";n?h=`<svg>${h}</svg>`:i&&(h=`<math>${h}</math>`);var p=qi(h);if((n||i)&&(p=Ue(p)),et(Ue(p),p.lastChild),n||i)for(;Ue(p);)l.before(Ue(p));else l.before(p)}})}function Va(e,t){ii(()=>{var n=e.getRootNode(),i=n.host?n:n.head??n.ownerDocument.head;if(!i.querySelector("#"+t.hash)){const a=document.createElement("style");a.id=t.hash,a.textContent=t.code,i.appendChild(a)}})}function Ga(e,t,n){var i=e==null?"":""+e;return i=i?i+" "+t:t,i===""?null:i}function Ka(e,t){return e==null?null:String(e)}function on(e,t,n,i,a,l){var o=e.__className;if(M||o!==n||o===void 0){var u=Ga(n,i);(!M||u!==e.getAttribute("class"))&&(u==null?e.removeAttribute("class"):e.className=u),e.__className=n}return l}function Mt(e,t,n,i){var a=e.__style;if(M||a!==t){var l=Ka(t);(!M||l!==e.getAttribute("style"))&&(l==null?e.removeAttribute("style"):e.style.cssText=l),e.__style=t}return i}function Pi(e,t){return e===t||(e==null?void 0:e[Xt])===t}function Ai(e={},t,n,i){return ii(()=>{var a,l;return ai(()=>{a=l,l=[],$i(()=>{e!==n(...l)&&(t(e,...l),a&&Pi(n(...a),e)&&t(null,...a))})}),()=>{Fr(()=>{l&&Pi(n(...l),e)&&t(null,...l)})}}),e}let Pn=!1;function Ja(e){var t=Pn;try{return Pn=!1,[e(),Pn]}finally{Pn=t}}function oe(e,t,n,i){var I;var a=(n&Xi)!==0,l=(n&Zi)!==0,o=i,u=!0,f=()=>(u&&(u=!1,o=l?$i(i):i),o),c;if(a){var h=Xt in e||Pr in e;c=((I=_t(e,t))==null?void 0:I.set)??(h&&t in e?S=>e[t]=S:void 0)}var p,g=!1;a?[p,g]=Ja(()=>e[t]):p=e[t],p===void 0&&i!==void 0&&(p=f(),c&&(ha(),c(p)));var b;if(b=()=>{var S=e[t];return S===void 0?f():(u=!0,S)},!(n&Ji))return b;if(c){var d=e.$$legacy;return function(S,te){return arguments.length>0?((!te||d||g)&&c(te?b():S),S):b()}}var y=!1,$=(n&Ki?yn:Mr)(()=>(y=!1,b()));a&&r($);var C=R;return function(S,te){if(arguments.length>0){const E=te?r($):a?Ae(S):S;return m($,E),y=!0,o!==void 0&&(o=E),S}return yt&&y||C.f&bt?$.v:r($)}}function Xa(e){return new Za(e)}class Za{constructor(t){_e(this,tt);_e(this,Be);var l;var n=new Map,i=(o,u)=>{var f=Gr(u,!1,!1);return n.set(o,f),f};const a=new Proxy({...t.props||{},$$events:{}},{get(o,u){return r(n.get(u)??i(u,Reflect.get(o,u)))},has(o,u){return u===Pr?!0:(r(n.get(u)??i(u,Reflect.get(o,u))),Reflect.has(o,u))},set(o,u,f){return m(n.get(u)??i(u,f),f),Reflect.set(o,u,f)}});$e(this,Be,(t.hydrate?ja:Ei)(t.component,{target:t.target,anchor:t.anchor,props:a,context:t.context,intro:t.intro??!1,recover:t.recover})),(!((l=t==null?void 0:t.props)!=null&&l.$$host)||t.sync===!1)&&ne(),$e(this,tt,a.$$events);for(const o of Object.keys(x(this,Be)))o==="$set"||o==="$destroy"||o==="$on"||Et(this,o,{get(){return x(this,Be)[o]},set(u){x(this,Be)[o]=u},enumerable:!0});x(this,Be).$set=o=>{Object.assign(a,o)},x(this,Be).$destroy=()=>{Ua(x(this,Be))}}$set(t){x(this,Be).$set(t)}$on(t,n){x(this,tt)[t]=x(this,tt)[t]||[];const i=(...a)=>n.call(this,...a);return x(this,tt)[t].push(i),()=>{x(this,tt)[t]=x(this,tt)[t].filter(a=>a!==i)}}$destroy(){x(this,Be).$destroy()}}tt=new WeakMap,Be=new WeakMap;let Ri;typeof HTMLElement=="function"&&(Ri=class extends HTMLElement{constructor(t,n,i){super();we(this,"$$ctor");we(this,"$$s");we(this,"$$c");we(this,"$$cn",!1);we(this,"$$d",{});we(this,"$$r",!1);we(this,"$$p_d",{});we(this,"$$l",{});we(this,"$$l_u",new Map);we(this,"$$me");this.$$ctor=t,this.$$s=n,i&&this.attachShadow({mode:"open"})}addEventListener(t,n,i){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(n),this.$$c){const a=this.$$c.$on(t,n);this.$$l_u.set(n,a)}super.addEventListener(t,n,i)}removeEventListener(t,n,i){if(super.removeEventListener(t,n,i),this.$$c){const a=this.$$l_u.get(n);a&&(a(),this.$$l_u.delete(n))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(a){return l=>{const o=document.createElement("slot");a!=="default"&&(o.name=a),N(l,o)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const n={},i=Qa(this);for(const a of this.$$s)a in i&&(a==="default"&&!this.$$d.children?(this.$$d.children=t(a),n.default=!0):n[a]=t(a));for(const a of this.attributes){const l=this.$$g_p(a.name);l in this.$$d||(this.$$d[l]=An(l,a.value,this.$$p_d,"toProp"))}for(const a in this.$$p_d)!(a in this.$$d)&&this[a]!==void 0&&(this.$$d[a]=this[a],delete this[a]);this.$$c=Xa({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:n,$$host:this}}),this.$$me=Ra(()=>{ai(()=>{var a;this.$$r=!0;for(const l of mn(this.$$c)){if(!((a=this.$$p_d[l])!=null&&a.reflect))continue;this.$$d[l]=this.$$c[l];const o=An(l,this.$$d[l],this.$$p_d,"toAttribute");o==null?this.removeAttribute(this.$$p_d[l].attribute||l):this.setAttribute(this.$$p_d[l].attribute||l,o)}this.$$r=!1})});for(const a in this.$$l)for(const l of this.$$l[a]){const o=this.$$c.$on(a,l);this.$$l_u.set(l,o)}this.$$l={}}}attributeChangedCallback(t,n,i){var a;this.$$r||(t=this.$$g_p(t),this.$$d[t]=An(t,i,this.$$p_d,"toProp"),(a=this.$$c)==null||a.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(t){return mn(this.$$p_d).find(n=>this.$$p_d[n].attribute===t||!this.$$p_d[n].attribute&&n.toLowerCase()===t)||t}});function An(e,t,n,i){var l;const a=(l=n[e])==null?void 0:l.type;if(t=a==="Boolean"&&typeof t!="boolean"?t!=null:t,!i||!n[e])return t;if(i==="toAttribute")switch(a){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t??null;default:return t}else switch(a){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}function Qa(e){const t={};return e.childNodes.forEach(n=>{t[n.slot||"default"]=!0}),t}function el(e,t,n,i,a,l){let o=class extends Ri{constructor(){super(e,n,a),this.$$p_d=t}static get observedAttributes(){return mn(t).map(u=>(t[u].attribute||u).toLowerCase())}};return mn(t).forEach(u=>{Et(o.prototype,u,{get(){return this.$$c&&u in this.$$c?this.$$c[u]:this.$$d[u]},set(f){var p;f=An(u,f,t),this.$$d[u]=f;var c=this.$$c;if(c){var h=(p=_t(c,u))==null?void 0:p.get;h?c[u]=f:c.$set({[u]:f})}}})}),i.forEach(u=>{Et(o.prototype,u,{get(){var f;return(f=this.$$c)==null?void 0:f[u]}})}),e.element=o,o}const tl={background:"#0d1117",foreground:"#c9d1d9",border:"#30363d",headerBg:"#161b22",headerFg:"#8b949e",prompt:"#58a6ff",command:"#79c0ff",output:"#c9d1d9",error:"#ff7b72",warning:"#ffa657",info:"#58a6ff",success:"#56d364",selection:"#264f78",cursor:"#58a6ff"},nl={background:"#ffffff",foreground:"#24292f",border:"#d0d7de",headerBg:"#f6f8fa",headerFg:"#57606a",prompt:"#0969da",command:"#0550ae",output:"#24292f",error:"#cf222e",warning:"#9a6700",info:"#0969da",success:"#1a7f37",selection:"#b6e3ff",cursor:"#0969da"};function rl(e,t){const n=t.style;n.setProperty("--terminal-bg",e.background),n.setProperty("--terminal-fg",e.foreground),n.setProperty("--terminal-border",e.border),n.setProperty("--terminal-header-bg",e.headerBg),n.setProperty("--terminal-header-fg",e.headerFg),n.setProperty("--terminal-prompt",e.prompt),n.setProperty("--terminal-command",e.command),n.setProperty("--terminal-output",e.output),n.setProperty("--terminal-error",e.error),n.setProperty("--terminal-warning",e.warning),n.setProperty("--terminal-info",e.info),n.setProperty("--terminal-success",e.success),n.setProperty("--terminal-selection",e.selection),n.setProperty("--terminal-cursor",e.cursor)}function il(e,t){return{...e,...t}}var al=U('<div class="terminal-buttons svelte-1oe4pqn"><span class="terminal-button close svelte-1oe4pqn"></span> <span class="terminal-button minimize svelte-1oe4pqn"></span> <span class="terminal-button maximize svelte-1oe4pqn"></span></div>'),ll=U('<button class="control-button svelte-1oe4pqn"> </button>'),ol=U('<button class="control-button svelte-1oe4pqn">↺</button>'),sl=U('<button class="control-button svelte-1oe4pqn"> </button>'),ul=U('<div class="terminal-controls svelte-1oe4pqn"><!> <!> <!></div>'),fl=U('<div class="terminal-header svelte-1oe4pqn"><!> <div class="terminal-title svelte-1oe4pqn"> </div> <!></div>'),cl=U('<span class="tab-icon svelte-1oe4pqn"> </span>'),vl=U('<span class="tab-badge svelte-1oe4pqn"> </span>'),dl=U('<span class="tab-close svelte-1oe4pqn" role="button" tabindex="0">×</span>'),hl=U('<button><!> <span class="tab-title svelte-1oe4pqn"> </span> <!> <!></button>'),pl=U('<button class="terminal-tab tab-add svelte-1oe4pqn">+</button>'),_l=U('<div class="terminal-tabs svelte-1oe4pqn"><!> <!></div>'),bl=(e,t)=>{(e.key==="Enter"||e.key===" ")&&t()},ml=U("<div><!></div>"),gl=U('<div class="terminal-table-row svelte-1oe4pqn"></div>'),wl=U('<div><div class="terminal-table svelte-1oe4pqn"></div></div>'),yl=U('<div class="rich-text-segment svelte-1oe4pqn"><!></div>'),$l=U('<span class="rich-text-segment svelte-1oe4pqn"><!></span>'),Tl=U('<span class="typing-cursor svelte-1oe4pqn">▊</span>'),kl=U('<div><pre class="svelte-1oe4pqn"><!><!><!></pre></div>'),ql=U('<div class="terminal-cursor svelte-1oe4pqn">▊</div>'),xl=U('<span class="tab-icon svelte-1oe4pqn"> </span>'),El=U('<span class="tab-badge svelte-1oe4pqn"> </span>'),Sl=U('<span class="tab-close svelte-1oe4pqn" role="button" tabindex="0">×</span>'),Cl=U('<button><!> <span class="tab-title svelte-1oe4pqn"> </span> <!> <!></button>'),Pl=U('<button class="terminal-tab tab-add svelte-1oe4pqn">+</button>'),Al=U('<div class="terminal-tabs terminal-tabs-bottom svelte-1oe4pqn"><!> <!></div>'),Rl=U('<div class="terminal svelte-1oe4pqn"><!> <!> <div class="terminal-content svelte-1oe4pqn" role="button" aria-label="Terminal output - click to skip typing animation" tabindex="0"><!> <!></div> <!></div>');const Bl={hash:"svelte-1oe4pqn",code:`:host {display:block;font-family:'Cascadia Code', 'Fira Code', 'Monaco', 'Consolas', monospace;font-size:14px;line-height:1.5;}.terminal.svelte-1oe4pqn {width:100%;height:100%;min-height:300px;background:var(--terminal-bg);color:var(--terminal-fg);border:1px solid var(--terminal-border);border-radius:8px;overflow:hidden;display:flex;flex-direction:column;transition:all 0.3s ease;}.terminal-header.svelte-1oe4pqn {background:var(--terminal-header-bg);color:var(--terminal-header-fg);padding:12px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--terminal-border);}.terminal-buttons.svelte-1oe4pqn {display:flex;gap:8px;}.terminal-button.svelte-1oe4pqn {width:12px;height:12px;border-radius:50%;display:inline-block;}.terminal-button.close.svelte-1oe4pqn {background:#ff5f56;}.terminal-button.minimize.svelte-1oe4pqn {background:#ffbd2e;}.terminal-button.maximize.svelte-1oe4pqn {background:#27c93f;}.terminal-title.svelte-1oe4pqn {flex:1;text-align:center;font-weight:500;}.terminal-controls.svelte-1oe4pqn {display:flex;gap:8px;}.control-button.svelte-1oe4pqn {background:transparent;color:var(--terminal-header-fg);border:1px solid var(--terminal-border);padding:4px 8px;border-radius:4px;cursor:pointer;font-size:12px;transition:all 0.2s;}.control-button.svelte-1oe4pqn:hover:not(:disabled) {background:var(--terminal-border);color:var(--terminal-fg);}.control-button.svelte-1oe4pqn:disabled {opacity:0.5;cursor:not-allowed;}.terminal-content.svelte-1oe4pqn {flex:1;padding:16px;overflow-y:auto;font-family:inherit;}.terminal-line.svelte-1oe4pqn {margin:4px 0;white-space:pre-wrap;word-break:break-word;}.terminal-line.svelte-1oe4pqn pre:where(.svelte-1oe4pqn) {margin:0;font-family:inherit;display:block;white-space:pre-wrap;}.step-command.svelte-1oe4pqn {color:var(--terminal-command);font-weight:bold;}.step-output.svelte-1oe4pqn {color:var(--terminal-output);}.step-error.svelte-1oe4pqn {color:var(--terminal-error);}.step-warning.svelte-1oe4pqn {color:var(--terminal-warning);}.step-info.svelte-1oe4pqn {color:var(--terminal-info);}.step-success.svelte-1oe4pqn {color:var(--terminal-success);}.terminal-cursor.svelte-1oe4pqn {display:inline-block;color:var(--terminal-cursor);
    animation: svelte-1oe4pqn-blink 1s infinite;}.typing-cursor.svelte-1oe4pqn {display:inline-block;color:var(--terminal-cursor);
    animation: svelte-1oe4pqn-blink 1s infinite;margin-left:2px;}

  @keyframes svelte-1oe4pqn-blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
  }

  /* Link styles */.terminal-link.svelte-1oe4pqn {color:inherit;text-decoration:none !important; /* Remove default underline */border-bottom:1px dashed currentColor !important;transition:border-bottom-style 0.2s ease;cursor:pointer;display:inline-block; /* Ensure the element is interactive */}.terminal-link.svelte-1oe4pqn:hover {border-bottom-style:solid !important;}.terminal-link.svelte-1oe4pqn:active {opacity:0.8;}

  /* Override link colors for different step types */.step-output.svelte-1oe4pqn .terminal-link:where(.svelte-1oe4pqn) {color:var(--terminal-output);}.step-error.svelte-1oe4pqn .terminal-link:where(.svelte-1oe4pqn) {color:var(--terminal-error);}.step-warning.svelte-1oe4pqn .terminal-link:where(.svelte-1oe4pqn) {color:var(--terminal-warning);}.step-info.svelte-1oe4pqn .terminal-link:where(.svelte-1oe4pqn) {color:var(--terminal-info);}.step-success.svelte-1oe4pqn .terminal-link:where(.svelte-1oe4pqn) {color:var(--terminal-success);}.step-command.svelte-1oe4pqn .terminal-link:where(.svelte-1oe4pqn) {color:var(--terminal-command);}.terminal-content.svelte-1oe4pqn::-webkit-scrollbar {width:8px;}.terminal-content.svelte-1oe4pqn::-webkit-scrollbar-track {background:var(--terminal-bg);}.terminal-content.svelte-1oe4pqn::-webkit-scrollbar-thumb {background:var(--terminal-border);border-radius:4px;}.terminal-content.svelte-1oe4pqn::-webkit-scrollbar-thumb:hover {background:var(--terminal-header-fg);}

  /* Tab styles */.terminal-tabs.svelte-1oe4pqn {display:flex;background:var(--terminal-header-bg);border-bottom:1px solid var(--terminal-border);gap:4px;overflow-x:auto;align-items:center;}.terminal-tabs-bottom.svelte-1oe4pqn {border-bottom:none;border-top:1px solid var(--terminal-border);}.terminal-tab.svelte-1oe4pqn {display:flex;align-items:center;gap:6px;padding:8px 12px;background:transparent;color:var(--terminal-header-fg);border:none;border-top:2px solid transparent;cursor:pointer;font-family:inherit;font-size:13px;transition:all 0.2s;white-space:nowrap;position:relative;}.terminal-tabs-bottom.svelte-1oe4pqn .terminal-tab:where(.svelte-1oe4pqn) {border-top:none;border-bottom:2px solid transparent;}.terminal-tab.svelte-1oe4pqn:hover {background:rgba(255, 255, 255, 0.05);}.terminal-tab.active.svelte-1oe4pqn {background:var(--terminal-bg);border-top-color:var(--terminal-command);}.terminal-tabs-bottom.svelte-1oe4pqn .terminal-tab.active:where(.svelte-1oe4pqn) {border-top-color:transparent;border-bottom-color:var(--terminal-command);}.tab-icon.svelte-1oe4pqn {font-size:14px;}.tab-title.svelte-1oe4pqn {flex:1;}.tab-badge.svelte-1oe4pqn {padding:2px 6px;background:var(--terminal-command);color:var(--terminal-bg);border-radius:10px;font-size:11px;font-weight:bold;min-width:18px;text-align:center;}.tab-close.svelte-1oe4pqn {margin-left:4px;padding:0 4px;background:transparent;border:none;color:var(--terminal-header-fg);cursor:pointer;font-size:18px;line-height:1;opacity:0.6;transition:opacity 0.2s;}.tab-close.svelte-1oe4pqn:hover {opacity:1;color:var(--terminal-error);}.tab-add.svelte-1oe4pqn {padding:8px 16px;font-weight:bold;opacity:0.7;}.tab-add.svelte-1oe4pqn:hover {opacity:1;background:rgba(255, 255, 255, 0.1);}

  /* Tab status indicators */.tab-status-running.svelte-1oe4pqn .tab-icon:where(.svelte-1oe4pqn)::after {content:'●';color:var(--terminal-warning);position:absolute;top:6px;left:8px;font-size:8px;
    animation: svelte-1oe4pqn-pulse 1.5s infinite;}.tab-status-error.svelte-1oe4pqn .tab-icon:where(.svelte-1oe4pqn)::after {content:'●';color:var(--terminal-error);position:absolute;top:6px;left:8px;font-size:8px;}.tab-status-success.svelte-1oe4pqn .tab-icon:where(.svelte-1oe4pqn)::after {content:'●';color:var(--terminal-success);position:absolute;top:6px;left:8px;font-size:8px;}

  @keyframes svelte-1oe4pqn-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }

  /* Scrollbar for tabs */.terminal-tabs.svelte-1oe4pqn::-webkit-scrollbar {height:4px;}.terminal-tabs.svelte-1oe4pqn::-webkit-scrollbar-track {background:transparent;}.terminal-tabs.svelte-1oe4pqn::-webkit-scrollbar-thumb {background:var(--terminal-border);border-radius:2px;}

  /* Rich text segment styling */.rich-text-segment.svelte-1oe4pqn {display:inline;}

  /* Ensure rich text inherits terminal font properties */.terminal-line.svelte-1oe4pqn .rich-text-segment:where(.svelte-1oe4pqn) {font-family:inherit;font-size:inherit;line-height:inherit;}

  /* Table layout styling */.terminal-table.svelte-1oe4pqn {display:block;width:100%;font-family:inherit;margin:0;padding:0;}.terminal-table-row.svelte-1oe4pqn {display:grid !important;grid-template-columns:60px 100px 180px 1fr !important;gap:16px;min-height:1.5em;align-items:baseline;font-family:inherit;}.terminal-table-cell.svelte-1oe4pqn {overflow:visible;}

  /* Semantic column styling with fixed positioning */.terminal-table-row.svelte-1oe4pqn .terminal-table-cell.col-position:where(.svelte-1oe4pqn) {grid-column:1;text-align:right;white-space:nowrap;}.terminal-table-row.svelte-1oe4pqn .terminal-table-cell.col-type:where(.svelte-1oe4pqn) {grid-column:2;text-align:right;white-space:nowrap;}.terminal-table-row.svelte-1oe4pqn .terminal-table-cell.col-rule:where(.svelte-1oe4pqn) {grid-column:3;white-space:nowrap;}.terminal-table-row.svelte-1oe4pqn .terminal-table-cell.col-message:where(.svelte-1oe4pqn) {grid-column:4;white-space:normal;word-break:break-word;}`};function Bi(e,t){Nr(t,!0),Va(e,Bl);let n=oe(t,"theme",7,"dark"),i=oe(t,"session",23,()=>[]),a=oe(t,"autoplay",7,!1),l=oe(t,"playbackSpeed",7,1),o=oe(t,"showHeader",7),u=oe(t,"title",7,"Terminal"),f=oe(t,"colors",23,()=>({})),c=oe(t,"typingSpeed",7,40),h=oe(t,"enableTyping",7,!0),p=oe(t,"showPlayButton",7),g=oe(t,"showResetButton",7),b=oe(t,"showThemeToggle",7),d=oe(t,"showWindowButtons",7),y=oe(t,"tabs",23,()=>[]),$=oe(t,"activeTab",7,0),C=oe(t,"showTabs",7,!1),I=oe(t,"allowTabClose",7,!0),S=oe(t,"allowTabAdd",7,!1),te=oe(t,"tabBarPosition",7,"top"),E,T,O=re(Ae(n())),k=re(Ae(y())),de=re(Ae($()||0)),Me=re(Ae(new Map)),se=qe(()=>C()&&r(k)&&r(k).length>0?r(k)[r(de)]||r(k)[0]:null),P=qe(()=>r(se)?r(se).session:i()),zt=qe(()=>r(se)?r(se).title:u());function nt(s,v=!0,w=""){return console.log(`[parseBooleanProp] ${w}:`,{raw:s,type:typeof s,isUndefined:s===void 0,isNull:s===null,defaultValue:v}),s==null?v:typeof s=="boolean"?s:typeof s=="string"?s.toLowerCase()==="false"?!1:(s.toLowerCase()==="true",!0):v}console.log("[Terminal Props] Raw values:",{showPlayButton:p(),showResetButton:g(),showThemeToggle:b(),showWindowButtons:d(),showHeader:o()});let rt=qe(()=>nt(p(),!0,"showPlayButton")),qt=qe(()=>nt(g(),!0,"showResetButton")),vn=qe(()=>nt(b(),!0,"showThemeToggle")),Bn=qe(()=>nt(d(),!0,"showWindowButtons")),dn=qe(()=>r(rt)||r(qt)||r(vn));ze(()=>{console.log("[Terminal Computed] Button visibility:",{showPlayButtonComputed:r(rt),showResetButtonComputed:r(qt),showThemeToggleComputed:r(vn),showWindowButtonsComputed:r(Bn),hasControlButtons:r(dn)})});let Nn=qe(()=>nt(o(),!0)),X=re(0),j=re(!1),Z=re(Ae([])),he=re(-1),He=re(""),hn=re(!1),vr=re(!1),ht=re(!0),dr=re(Ae(a())),pe=null,ue=null,Ii=-1,In="",Oi=qe(()=>il(r(O)==="dark"?tl:nl,f()));ze(()=>{m(O,n())}),ze(()=>{m(k,y(),!0)}),ze(()=>{E&&r(Oi)&&rl(r(Oi),E)}),ze(()=>{const s=r(Z).length;T&&s>0&&La().then(()=>{T&&(T.scrollTop=T.scrollHeight)})});function On(){r(j)||!r(P)||r(X)>=r(P).length||(m(j,!0),Yt())}function Yt(){if(!r(P)||r(X)>=r(P).length){m(j,!1),pe=null;return}const s=r(P)[r(X)],v=(s.delay||1e3)/l();pe=setTimeout(()=>{if(!r(P)||!r(ht)){if(!r(ht)&&r(j)){pe=null;const w=()=>{r(ht)&&r(j)?Yt():r(j)&&setTimeout(w,100)};setTimeout(w,100)}else m(j,!1),pe=null;return}s.type==="command"&&h()&&!s.skipTyping?Nl(s):(m(Z,[...r(Z),s],!0),qn(X),r(X)<r(P).length&&r(j)?Yt():(m(j,!1),pe=null))},v)}function Nl(s){m(he,r(Z).length,!0),m(He,""),m(Z,[...r(Z),{...s,content:""}],!0);const v=Ol(s.content);let w=0;const z=1e3/(s.typingSpeed||c());function H(){if(!r(j)||!r(P)||r(he)<0){ue=null,m(he,-1),m(He,"");return}if(!r(ht)){ue=null;const A=()=>{r(ht)&&r(j)&&r(he)>=0?H():r(j)&&r(he)>=0&&setTimeout(A,100)};setTimeout(A,100);return}if(w<v.length){m(He,r(He)+v[w]),m(Z,r(Z).map((D,fe)=>fe===r(he)?{...s,content:r(He)}:D),!0),w++;const A=z*.2,ie=z+(Math.random()-.5)*A;ue=setTimeout(()=>{requestAnimationFrame(()=>H())},ie)}else m(he,-1),m(He,""),ue=null,qn(X),r(X)<r(P).length&&r(j)?Yt():m(j,!1)}requestAnimationFrame(()=>H())}function pn(){pe&&(clearTimeout(pe),pe=null),ue&&(clearTimeout(ue),ue=null),m(X,0),m(Z,[],!0),m(j,!1),m(he,-1),m(He,"")}function Il(){if(r(j))m(j,!1),pe&&(clearTimeout(pe),pe=null),ue&&(clearTimeout(ue),ue=null);else{if(!r(P)||r(P).length===0)return;r(X)>=r(P).length?(pn(),setTimeout(()=>On(),10)):On()}}function Di(s){return`step-${s}`}function hr(s){return Array.isArray(s)}function Ol(s){return typeof s=="string"?s:s.map(v=>v.text).join("")}function Dl(s){return hr(s)?s.some(v=>v.isTableRow||v.tableColumn):!1}function Ll(s){const v=[];let w=[];for(const Q of s)Q.isTableRow&&w.length>0?(v.push([...w]),w=[Q]):w.push(Q);return w.length>0&&v.push([...w]),v}function Fl(s){if(!s)return!1;const v=["javascript:","data:","vbscript:"],w=s.toLowerCase().trim();if(v.some(A=>w.startsWith(A)))return!1;const z=["http://","https://","mailto:","tel:","//","/"].some(A=>w.startsWith(A)),H=w.includes(":");return z||!H}function pr(s){const v=s.text.replace(/\n/g,"<br>");if(s.url&&Fl(s.url)){const w=s.target||"_blank",Q=w==="_blank"?"noopener noreferrer":"";let z=_r(s,!0);const H="color: white; text-decoration: none; border-bottom: 1px dashed white; cursor: pointer; display: inline-block; padding-bottom: 1px;";return z=z?`${z}; ${H}`:H,`<a href="${s.url}" target="${w}" rel="${Q}" style="${z}" class="terminal-link" onmouseover="this.style.borderBottomStyle='solid'" onmouseout="this.style.borderBottomStyle='dashed'">${v}</a>`}return v}function _r(s,v=!1){const w=[];return s.color&&w.push(`color: ${s.color}`),s.backgroundColor&&w.push(`background-color: ${s.backgroundColor}`),s.fontWeight&&w.push(`font-weight: ${s.fontWeight}`),!v&&s.textDecoration&&w.push(`text-decoration: ${s.textDecoration}`),s.fontStyle&&w.push(`font-style: ${s.fontStyle}`),s.marginTop&&w.push(`margin-top: ${s.marginTop}`),s.marginBottom&&w.push(`margin-bottom: ${s.marginBottom}`),s.marginLeft&&w.push(`margin-left: ${s.marginLeft}`),s.marginRight&&w.push(`margin-right: ${s.marginRight}`),w.join("; ")}function Li(){r(he)>=0&&r(he)<r(Z).length&&(ue&&(clearTimeout(ue),ue=null),m(Z,r(Z).map((s,v)=>v===r(he)?{...s,content:r(P)[r(X)].content}:s),!0),m(he,-1),m(He,""),qn(X),r(X)<r(P).length&&r(j)?Yt():m(j,!1))}let Dn=null;ze(()=>{if(E&&typeof IntersectionObserver<"u"){const s=new IntersectionObserver(v=>{v.forEach(w=>{m(vr,w.isIntersecting,!0)})},{threshold:.1});return s.observe(E),()=>{s&&s.disconnect()}}}),ze(()=>{const s=()=>{m(ht,!0)},v=()=>{m(ht,!1)};return m(ht,document.hasFocus(),!0),window.addEventListener("focus",s),window.addEventListener("blur",v),()=>{window.removeEventListener("focus",s),window.removeEventListener("blur",v)}}),ze(()=>{a()!==r(dr)&&(!r(dr)&&a()&&m(hn,!1),m(dr,a()))}),ze(()=>{a()&&r(vr)&&!r(hn)&&!r(j)&&r(P)&&r(P).length>0&&r(X)===0&&(m(hn,!0),setTimeout(()=>On(),300))}),ze(()=>{if(E){if(C()&&r(k)&&r(k).length>0){const v=r(k)[r(de)]||r(k)[0];v&&(In=v.id)}const s=()=>{const v=r(P);!C()&&v&&v.length!==Ii&&(Ii=v.length,(r(Z).length>0||r(X)>0)&&(pn(),m(hn,!1))),C()&&r(se)&&r(se).id!==In&&!r(Me).has(r(se).id)&&(In=r(se).id,r(Me).has(r(se).id)||m(hn,!1))};s(),Dn=setInterval(s,500)}return()=>{Dn!==null&&(clearInterval(Dn),Dn=null),pe&&(clearTimeout(pe),pe=null),ue&&(clearTimeout(ue),ue=null)}});function Ml(){const s=r(O)==="dark"?"light":"dark";m(O,s,!0),E==null||E.dispatchEvent(new CustomEvent("theme-change",{detail:s}))}function Hl(){r(se)&&r(Me).set(r(se).id,{currentStepIndex:r(X),isPlaying:r(j),displayedSteps:[...r(Z)],typingStepIndex:r(he),typedContent:r(He),lastUpdateTime:Date.now()})}function Wl(s){const v=r(Me).get(s);if(v){const w=Date.now()-v.lastUpdateTime;if(m(X,v.currentStepIndex,!0),m(j,v.isPlaying,!0),m(Z,[...v.displayedSteps],!0),m(he,v.typingStepIndex,!0),m(He,v.typedContent,!0),v.isPlaying&&r(P)&&r(X)<r(P).length){let Q=r(X),z=0;for(;Q<r(P).length&&z<w;){const H=r(P)[Q],A=(H.delay||1e3)/l();if(z+A<=w)m(Z,[...r(Z),H],!0),Q++,z+=A;else break}m(X,Q,!0),r(X)<r(P).length?Yt():m(j,!1)}}else r(Me).has(s)||(pn(),a()&&r(vr)&&r(P)&&r(P).length>0&&setTimeout(()=>On(),300))}function br(s){if(s===r(de)||!r(k)||s<0||s>=r(k).length)return;Hl(),pe&&(clearTimeout(pe),pe=null),ue&&(clearTimeout(ue),ue=null),m(de,s,!0);const v=r(k)[s];v&&(Wl(v.id),In=v.id),E==null||E.dispatchEvent(new CustomEvent("tab-change",{detail:{index:s,tab:v}}))}function Ln(s){if(!r(k)||r(k).length===0)return;const v=r(k)[s];if(!(v.closable!==!1&&I()))return;v&&r(Me).delete(v.id);const Q=s===r(de);if(m(k,r(k).filter((z,H)=>H!==s),!0),E==null||E.dispatchEvent(new CustomEvent("tab-close",{detail:{index:s,tab:v}})),Q)if(r(k).length>0){const z=s>=r(k).length?r(k).length-1:s;m(de,-1),br(z)}else m(de,0),pn(),m(Z,[],!0);else s<r(de)&&qn(de,-1)}function Fi(){S()&&(E==null||E.dispatchEvent(new CustomEvent("tab-add",{detail:{}})))}function Mi(s){return s?`tab-status-${s}`:""}var Fn=Rl(),Hi=K(Fn);{var jl=s=>{var v=fl(),w=K(v);{var Q=D=>{var fe=al();N(D,fe)};J(w,D=>{r(Bn)&&D(Q)})}var z=ce(w,2),H=K(z,!0);Y(z);var A=ce(z,2);{var ie=D=>{var fe=ul(),Se=K(fe);{var ye=V=>{var _=ll();_.__click=Il;var q=K(_,!0);Y(_),le(()=>{_.disabled=!r(P)||r(P).length===0,Le(q,r(j)?"⏸":"▶")}),N(V,_)};J(Se,V=>{r(rt)&&V(ye)})}var Ne=ce(Se,2);{var We=V=>{var _=ol();_.__click=pn,le(()=>_.disabled=r(Z).length===0),N(V,_)};J(Ne,V=>{r(qt)&&V(We)})}var it=ce(Ne,2);{var Ie=V=>{var _=sl();_.__click=Ml;var q=K(_,!0);Y(_),le(()=>Le(q,r(O)==="dark"?"☀":"🌙")),N(V,_)};J(it,V=>{r(vn)&&V(Ie)})}Y(fe),N(D,fe)};J(A,D=>{r(dn)&&D(ie)})}Y(v),le(()=>Le(H,r(zt))),N(s,v)};J(Hi,s=>{r(Nn)&&s(jl)})}var Wi=ce(Hi,2);{var Ul=s=>{var v=_l(),w=K(v);Ft(w,17,()=>r(k),Lt,(H,A,ie)=>{var D=hl();D.__click=()=>br(ie);var fe=K(D);{var Se=_=>{var q=cl(),G=K(q,!0);Y(q),le(()=>Le(G,r(A).icon)),N(_,q)};J(fe,_=>{r(A).icon&&_(Se)})}var ye=ce(fe,2),Ne=K(ye,!0);Y(ye);var We=ce(ye,2);{var it=_=>{var q=vl(),G=K(q,!0);Y(q),le(()=>Le(G,r(A).badge)),N(_,q)};J(We,_=>{r(A).badge!==void 0&&_(it)})}var Ie=ce(We,2);{var V=_=>{var q=dl();q.__click=G=>{G.stopPropagation(),Ln(ie)},q.__keydown=G=>{(G.key==="Enter"||G.key===" ")&&(G.stopPropagation(),G.preventDefault(),Ln(ie))},N(_,q)};J(Ie,_=>{r(A).closable!==!1&&I()&&r(k).length>1&&_(V)})}Y(D),le(_=>{on(D,1,`terminal-tab ${ie===r(de)?"active":""} ${_??""}`,"svelte-1oe4pqn"),Le(Ne,r(A).title)},[()=>Mi(r(A).status)]),N(H,D)});var Q=ce(w,2);{var z=H=>{var A=pl();A.__click=Fi,N(H,A)};J(Q,H=>{S()&&H(z)})}Y(v),N(s,v)};J(Wi,s=>{C()&&r(k)&&r(k).length>0&&te()==="top"&&s(Ul)})}var Vt=ce(Wi,2);Vt.__click=Li,Vt.__keydown=[bl,Li];var ji=K(Vt);Ft(ji,17,()=>r(Z),Lt,(s,v,w)=>{var Q=ln(),z=rn(Q);{var H=ie=>{var D=wl(),fe=K(D);Ft(fe,21,()=>Ll(r(v).content),Lt,(Se,ye)=>{const Ne=qe(()=>r(ye)[0]),We=qe(()=>{var V;return((V=r(Ne))==null?void 0:V.columnGap)||"16px"}),it=qe(()=>{var V;return((V=r(Ne))==null?void 0:V.rowGap)||"4px"});var Ie=gl();Ft(Ie,21,()=>r(ye),Lt,(V,_)=>{var q=ml(),G=K(q);Cn(G,()=>pr(r(_))),Y(q),le(()=>{on(q,1,`terminal-table-cell ${r(_).tableColumn?`col-${r(_).tableColumn}`:""}`,"svelte-1oe4pqn"),Mt(q,`${r(_).color?`color: ${r(_).color};`:""}${r(_).backgroundColor?`background-color: ${r(_).backgroundColor};`:""}${r(_).fontWeight?`font-weight: ${r(_).fontWeight};`:""}${r(_).fontStyle?`font-style: ${r(_).fontStyle};`:""}${r(_).width?`width: ${r(_).width};`:""}${r(_).align?`text-align: ${r(_).align};`:""}`)}),N(V,q)}),Y(Ie),le(()=>Mt(Ie,`gap: ${r(We)??""}; margin-bottom: ${r(it)??""};`)),N(Se,Ie)}),Y(fe),Y(D),le(Se=>{on(D,1,`terminal-line ${Se??""}`,"svelte-1oe4pqn"),Mt(D,`${r(v).marginTop?`margin-top: ${r(v).marginTop};`:""}${r(v).marginBottom?`margin-bottom: ${r(v).marginBottom};`:""}`)},[()=>Di(r(v).type)]),N(ie,D)},A=ie=>{var D=kl(),fe=K(D),Se=K(fe);{var ye=_=>{var q=xi();le(()=>Le(q,`${r(v).prompt||"$"} `)),N(_,q)};J(Se,_=>{r(v).type==="command"&&_(ye)})}var Ne=ce(Se);{var We=_=>{var q=xi();le(()=>Le(q,r(He))),N(_,q)},it=_=>{var q=ln(),G=rn(q);{var Kl=Gt=>{var _n=ln(),mr=rn(_n);Ft(mr,17,()=>r(v).content,Lt,(Xl,bn)=>{var Ui=ln(),Zl=rn(Ui);{var Ql=Kt=>{var at=yl(),gr=K(at);Cn(gr,()=>pr(r(bn))),Y(at),le(wr=>Mt(at,wr),[()=>_r(r(bn))]),N(Kt,at)},eo=Kt=>{var at=$l(),gr=K(at);Cn(gr,()=>pr(r(bn))),Y(at),le(wr=>Mt(at,wr),[()=>_r(r(bn))]),N(Kt,at)};J(Zl,Kt=>{r(bn).display==="block"?Kt(Ql):Kt(eo,!1)})}N(Xl,Ui)}),N(Gt,_n)},Jl=Gt=>{var _n=ln(),mr=rn(_n);Cn(mr,()=>r(v).content.replace(/\n/g,"<br>")),N(Gt,_n)};J(G,Gt=>{hr(r(v).content)?Gt(Kl):Gt(Jl,!1)},!0)}N(_,q)};J(Ne,_=>{w===r(he)?_(We):_(it,!1)})}var Ie=ce(Ne);{var V=_=>{var q=Tl();N(_,q)};J(Ie,_=>{w===r(he)&&_(V)})}Y(fe),Y(D),le(_=>{on(D,1,`terminal-line ${_??""}`,"svelte-1oe4pqn"),Mt(D,`${r(v).marginTop?`margin-top: ${r(v).marginTop};`:""}${r(v).marginBottom?`margin-bottom: ${r(v).marginBottom};`:""}`)},[()=>Di(r(v).type)]),N(ie,D)};J(z,ie=>{hr(r(v).content)&&Dl(r(v).content)?ie(H):ie(A,!1)})}N(s,Q)});var zl=ce(ji,2);{var Yl=s=>{var v=ql();N(s,v)};J(zl,s=>{r(j)&&r(he)===-1&&s(Yl)})}Y(Vt),Ai(Vt,s=>T=s,()=>T);var Vl=ce(Vt,2);{var Gl=s=>{var v=Al(),w=K(v);Ft(w,17,()=>r(k),Lt,(H,A,ie)=>{var D=Cl();D.__click=()=>br(ie);var fe=K(D);{var Se=_=>{var q=xl(),G=K(q,!0);Y(q),le(()=>Le(G,r(A).icon)),N(_,q)};J(fe,_=>{r(A).icon&&_(Se)})}var ye=ce(fe,2),Ne=K(ye,!0);Y(ye);var We=ce(ye,2);{var it=_=>{var q=El(),G=K(q,!0);Y(q),le(()=>Le(G,r(A).badge)),N(_,q)};J(We,_=>{r(A).badge!==void 0&&_(it)})}var Ie=ce(We,2);{var V=_=>{var q=Sl();q.__click=G=>{G.stopPropagation(),Ln(ie)},q.__keydown=G=>{(G.key==="Enter"||G.key===" ")&&(G.stopPropagation(),G.preventDefault(),Ln(ie))},N(_,q)};J(Ie,_=>{r(A).closable!==!1&&I()&&r(k).length>1&&_(V)})}Y(D),le(_=>{on(D,1,`terminal-tab ${ie===r(de)?"active":""} ${_??""}`,"svelte-1oe4pqn"),Le(Ne,r(A).title)},[()=>Mi(r(A).status)]),N(H,D)});var Q=ce(w,2);{var z=H=>{var A=Pl();A.__click=Fi,N(H,A)};J(Q,H=>{S()&&H(z)})}Y(v),N(s,v)};J(Vl,s=>{C()&&r(k)&&r(k).length>0&&te()==="bottom"&&s(Gl)})}return Y(Fn),Ai(Fn,s=>E=s,()=>E),N(e,Fn),Ir({get theme(){return n()},set theme(s="dark"){n(s),ne()},get session(){return i()},set session(s=[]){i(s),ne()},get autoplay(){return a()},set autoplay(s=!1){a(s),ne()},get playbackSpeed(){return l()},set playbackSpeed(s=1){l(s),ne()},get showHeader(){return o()},set showHeader(s){o(s),ne()},get title(){return u()},set title(s="Terminal"){u(s),ne()},get colors(){return f()},set colors(s={}){f(s),ne()},get typingSpeed(){return c()},set typingSpeed(s=40){c(s),ne()},get enableTyping(){return h()},set enableTyping(s=!0){h(s),ne()},get showPlayButton(){return p()},set showPlayButton(s){p(s),ne()},get showResetButton(){return g()},set showResetButton(s){g(s),ne()},get showThemeToggle(){return b()},set showThemeToggle(s){b(s),ne()},get showWindowButtons(){return d()},set showWindowButtons(s){d(s),ne()},get tabs(){return y()},set tabs(s=[]){y(s),ne()},get activeTab(){return $()},set activeTab(s=0){$(s),ne()},get showTabs(){return C()},set showTabs(s=!1){C(s),ne()},get allowTabClose(){return I()},set allowTabClose(s=!0){I(s),ne()},get allowTabAdd(){return S()},set allowTabAdd(s=!1){S(s),ne()},get tabBarPosition(){return te()},set tabBarPosition(s="top"){te(s),ne()}})}return Ma(["click","keydown"]),customElements.define("terminal-session",el(Bi,{showPlayButton:{attribute:"show-play-button"},showResetButton:{attribute:"show-reset-button"},showThemeToggle:{attribute:"show-theme-toggle"},showWindowButtons:{attribute:"show-window-buttons"},showTabs:{attribute:"show-tabs",type:"Boolean"},allowTabClose:{attribute:"allow-tab-close",type:"Boolean"},allowTabAdd:{attribute:"allow-tab-add",type:"Boolean"},autoplay:{attribute:"autoplay",type:"Boolean"},enableTyping:{attribute:"enable-typing",type:"Boolean"},showHeader:{attribute:"show-header"},playbackSpeed:{attribute:"playback-speed",type:"Number"},typingSpeed:{attribute:"typing-speed",type:"Number"},activeTab:{attribute:"active-tab",type:"Number"},theme:{attribute:"theme"},title:{attribute:"title"},tabBarPosition:{attribute:"tab-bar-position"},session:{},colors:{},tabs:{}},[],[],!0)),Bi});
